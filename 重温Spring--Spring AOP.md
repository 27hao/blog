---
title: 重温Spring--Spring AOP
categories: Spring
date: 2019-04-4 18:12:43
---
### 什么是 AOP 面向切面编程？
与OOP对比，面向切面，传统的OOP开发中的代码逻辑是自上而下的，而这些过程会产生一些横切性问题，这些横切性的问题和我们的住业务逻辑关系不大，这些横切性问题不会影响到主逻辑实现的，但是会散落到代码的各个部分，难以维护。AOP是处理一些横切性问题，AOP的编程思想就是把这些问题和主业务逻辑分开，达到与主业务逻辑解耦的目的。使代码的重用性和开发效率更高。

### 应用场景
* 记录日志
* 权限管理
* 事务管理

### AOP 常用术语
* JoinPoint 连接点：目标对象中的方法。
* PointCut 切点：连接点的集合。
* Advise 通知：增强的位置已经增强的逻辑。
* Aspect 切面：以上概念的集合。
* Weaving 织入：将增强的逻辑加入目标方法的过程。
* This： 代理对象。
* Tartget: 被代理（增强）的对象

### AOP 实现
#### 代理
* 静态代理：
1. 继承：代理类继承目标类，如果有多层代理，交换顺序困难，需要新生成类。
2. 聚合：和目标类实现相同接口，多层代理的时候如果需要交换顺序，只需要交换代理类的顺序。

> 被代理对象确定的情况下使用静态代理，会产生类爆炸，产生很多类。

* 动态代理：

> 被代理对象不确定，不需要手动编写代理类，并且能够代理各种类型的对象。

### 为什么 IOC 和 AOP 这两个概念往往伴随在一起出现？
我们为什么要使用 IOC,在前面讲过是为了把类与类之间解耦，面向抽象编程，而不是依赖具体的实现，当我们的实现改变或者需要增强时，只需要容器把增强后的代理对象注入给依赖方即可。所以使用 IOC 都是为了增强功能，实现开闭原则，以后都不需要改变原有代码；而增强功能往往就会使用到 AOP, 得到一个增强的代理对象交给 IOC 容器，所以 AOP 是基于 IOC, IOC 与 AOP 相辅相成。
